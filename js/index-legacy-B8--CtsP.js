System.register(["./index-legacy-DQbE9N6t.js","./index-legacy-Dh74zTvE.js","./index-legacy-Ax_errcB.js","./index-legacy-DkpWKVSY.js","./index-legacy-QoV3-9G-.js","./index-legacy-DQjPScUw.js","./index-legacy-kUEiIK1y.js","./vue-legacy-Cowg1EAB.js","./index-legacy-Bv6ZWA-v.js","./FileSaver-legacy-Dzp4YQoW.js","./loading-legacy-yZ4ZQ7kx.js","./arco-legacy-DmTh9LTc.js","./pub-legacy-CbZ7AZiy.js"],(function(e,t){"use strict";var a,n,l,i,o,u,c,r,s,d,p,g,f,m,v,x,y,h,b,j,w,I,_,k,C,S,E,z;return{setters:[function(e){a=e.default},function(e){n=e.u,l=e._},null,null,null,null,null,function(e){i=e.r,o=e.o,u=e.e,c=e.j,r=e.v,s=e.C,d=e.h,p=e.m,g=e.Y,f=e.F,m=e.O,v=e.q,x=e.y,y=e.N,h=e.K,b=e.L,j=e.l},function(e){w=e.S},function(e){I=e.J,_=e.s},function(e){k=e.s},function(e){C=e.O,S=e.t,E=e.B,z=e.o},null],execute:function(){var t=document.createElement("style");t.textContent=".option-btn[data-v-90ce0a7e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.option-btn button[data-v-90ce0a7e]{margin-left:10px}.img-tip[data-v-90ce0a7e]{position:relative;z-index:10;color:#165dff;text-align:center;border:1px dashed #dcdee2}.a[data-v-90ce0a7e]{height:100%;overflow:auto}\n",document.head.appendChild(t);var H={class:"sl-layout-content"},N={class:"option-btn"},O={id:"a-table",class:"a"},D={class:"img-tip"},T=["src"],B=["onClick"],U=u({__name:"index",setup:function(e){var t=function(){var e=n().$SlMessage,t=i({select:{val:"jpeg",data:[{value:"jpeg",label:".jpeg"},{value:"png",label:".png"},{value:"webp",label:".webp"},{value:"ico",label:".ico"}]},data:[],maxHeight:100,columns:[{title:"#",slotName:"index"},{title:"预览",slotName:"img"},{title:"名称",dataIndex:"fileName"},{title:"大小",dataIndex:"sizeStr"},{title:"类型",dataIndex:"type"},{title:"操作",slotName:"option"}],props:{imgStyle:{width:"100px",marginTop:"4px"},optionDeleteStyle:{color:"#f53f3f",cursor:"pointer"}}});return o((function(){var e=document.getElementById("a-table");e&&(t.value.maxHeight=e.offsetHeight-45)})),{table:t,handleBeforeUpload:function(e){t.value.data.push(e),e.sizeStr="".concat((e.size/1024).toFixed(2),"kb")},tableDelete:function(e){t.value.data.splice(e,1)},tableEmpty:function(){t.value.data.length=0},tableExportImage:function(){var a=t.value.data,n=t.value.select.val;if(a.length<1)e.warning("图片列表为空");else{k.show();var l=new I,i=l.folder("images");a.forEach((function(e,a){var o=e.img,u=document.createElement("canvas");u.width=o.width,u.height=o.height;var c=u.getContext("2d");c&&(c.drawImage(o,0,0,o.width,o.height),i&&(i.file("".concat(e.fileName.split(".")[0],".").concat(n),u.toDataURL("image/".concat(".ico"===n?"x-icon":n),1).substring(22),{base64:!0}),a===t.value.data.length-1&&(k.hide(),l.generateAsync({type:"blob"}).then((function(e){_(e,"images.zip")})))))}))}}}}(),l=t.table,u=t.handleBeforeUpload,U=t.tableDelete,F=t.tableEmpty,V=t.tableExportImage;return function(e,t){var n=C,i=S,o=E,I=z,_=a;return d(),c("div",H,[r(_,null,{title:s((function(){return[p("div",null,[r(i,{modelValue:g(l).select.val,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g(l).select.val=e}),style:{width:"200px"},placeholder:"Please select ..."},{default:s((function(){return[(d(!0),c(f,null,m(g(l).select.data,(function(e,t){return d(),v(n,{key:t,value:e.value},{default:s((function(){return[x(y(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])])]})),extra:s((function(){return[p("div",N,[r(w,{onOnToImage:g(u)},{default:s((function(){return[r(o,{type:"primary",status:"success"},{default:s((function(){return t[1]||(t[1]=[x("上传图片")])})),_:1})]})),_:1},8,["onOnToImage"]),r(o,{type:"primary",onClick:g(V)},{default:s((function(){return t[2]||(t[2]=[x("导出图片")])})),_:1},8,["onClick"]),r(o,{type:"primary",status:"danger",onClick:g(F)},{default:s((function(){return t[3]||(t[3]=[x("清空")])})),_:1},8,["onClick"])])]})),default:s((function(){return[p("div",O,[h(p("div",D,[r(w,{onOnToImage:g(u)},{default:s((function(){return t[4]||(t[4]=[p("div",{style:{padding:"80px 0"}},[p("p",null,"点击或者拖拽图片到这里"),p("p",{class:"sub-title"},"最多上传15张图片")],-1)])})),_:1},8,["onOnToImage"])],512),[[b,!g(l).data.length]]),h(p("div",null,[r(I,{columns:g(l).columns,data:g(l).data,pagination:!1,"virtual-list-props":{height:g(l).maxHeight},scroll:{maxHeight:g(l).maxHeight}},{index:s((function(e){var t=e.rowIndex;return[p("span",null,y(t+1),1)]})),img:s((function(e){var t=e.record;return[p("img",{src:t.img.src,style:j(g(l).props.imgStyle),alt:""},null,12,T)]})),option:s((function(e){var t=e.rowIndex;return[p("span",{style:j(g(l).props.optionDeleteStyle),onClick:function(e){return g(U)(t)}},"删除",12,B)]})),_:1},8,["columns","data","virtual-list-props","scroll"])],512),[[b,g(l).data.length]])])]})),_:1})])}}});e("default",l(U,[["__scopeId","data-v-90ce0a7e"]]))}}}));
