import y from"./index-C7pjrdL4.js";import{_ as C}from"./index-D5LWgAiT.js";/* empty css              *//* empty css              */import{r as x,e as k,j as m,v as d,C as o,h as f,m as r,K as b,L as z,Y as a,y as h,N as B}from"./vue--1SVMGhC.js";import{u as w}from"./use-method-BjUg8kNz.js";import{S as T}from"./index-DaoDREIv.js";import{B as U,T as V}from"./arco-BAtWUo8v.js";/* empty css              */import"./pub-DCCNobxc.js";function I(){const{copyToClipboard:_}=w(),n=x({src:"",name:"",size:""}),l=x({data:"",size:""});function s(t){const e=t.img;n.value.src=e.src,n.value.name=t.fileName,n.value.size="".concat((t.size/1024).toFixed(2),"kb"),p(e)}function p(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");if(i){i.drawImage(t,0,0,t.width,t.height);const u=e.toDataURL("image/ipeg",1);l.value.data=u,l.value.size=c(u)}}function c(t){if(t){t=t.split(",")[1].split("=")[0];const e=t.length,i=e-e/8*2;return"".concat((i/1024).toFixed(2),"kb")}else return null}function v(){n.value.src="",l.value.data=""}return{copyToClipboard:_,image:n,base64:l,handleBeforeUpload:s,handleClean:v}}const L={class:"sl-layout-content"},N={class:"a"},S={key:0,class:"img-tip"},D={key:1},F={class:"b-d"},$=k({__name:"index",setup(_){const{copyToClipboard:n,image:l,base64:s,handleBeforeUpload:p,handleClean:c}=I();return(v,t)=>{const e=U,i=V,u=y;return f(),m("div",L,[d(u,null,{title:o(()=>t[2]||(t[2]=[r("p",null,"图片转base64",-1)])),extra:o(()=>[b(d(e,{type:"primary",onClick:t[0]||(t[0]=g=>a(n)(a(s).data))},{default:o(()=>t[3]||(t[3]=[h("复制")])),_:1},512),[[z,a(s).data]])]),default:o(()=>[r("div",N,[a(l).src?(f(),m("div",D,[d(u,null,{title:o(()=>[r("p",null,B(a(s).size),1)]),extra:o(()=>[d(e,{type:"primary",onClick:a(c)},{default:o(()=>t[5]||(t[5]=[h("清空")])),_:1},8,["onClick"])]),default:o(()=>[r("div",F,[d(i,{modelValue:a(s).data,"onUpdate:modelValue":t[1]||(t[1]=g=>a(s).data=g),readonly:"","auto-size":""},null,8,["modelValue"])])]),_:1})])):(f(),m("div",S,[d(T,{onOnToImage:a(p)},{default:o(()=>t[4]||(t[4]=[r("div",{style:{padding:"80px 0"}},[r("p",null,"点击或者拖拽图片到这里")],-1)])),_:1},8,["onOnToImage"])]))])]),_:1})])}}}),G=C($,[["__scopeId","data-v-f032819b"]]);export{G as default};
